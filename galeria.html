<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Galer√≠a Boda Marilyn & Christian</title>

<style>
/* Fuentes */
@font-face { font-family: 'HolyWingsFree'; src: url('https://raw.githubusercontent.com/mavallejo31/boda/main/fonts/HollyWingsFree-Regular.woff2') format('woff2'); }
@font-face { font-family: 'CorporateA'; src: url('https://raw.githubusercontent.com/mavallejo31/boda/main/fonts/CorporateA-Regular.woff2') format('woff2'); }
@font-face { font-family: 'BelfastBold'; src: url('https://raw.githubusercontent.com/mavallejo31/boda/main/fonts/Belfast-Bold.woff2') format('woff2'); }

/* Estilos generales */
body {
  margin:0; padding:20px;
  font-family:'CorporateA', sans-serif;
  background:#faf7f7;
  color:#333;
  text-align:center;
}
header {
  background: linear-gradient(135deg, #5c0a0d, #8c1c1c);
  color:white;
  padding:40px 20px 80px 20px;
  border-bottom-left-radius:50% 10%;
  border-bottom-right-radius:50% 10%;
}
header h1 { font-family:'HolyWingsFree', cursive; font-size:4em; margin:0; }
header h2 { font-family:'BelfastBold', sans-serif; color:#c9a66b; margin:10px 0 0 0; font-size:1.5em; }
header p { font-family:'CorporateA', sans-serif; margin-top:10px; font-size:1.1em; }

.btn-upload {
  display:inline-block;
  background:#8c1c1c;
  color:white;
  padding:12px 25px;
  border-radius:30px;
  text-decoration:none;
  font-weight:600;
  margin:20px 0;
  font-family:'CorporateA', sans-serif;
}

/* Carrusel de miniaturas */
.carousel-container {
  position: relative;
  overflow: hidden;
  max-width: 100%;
  margin: 0 auto 30px auto;
}
.carousel-track {
  display:flex;
  transition: transform 0.3s ease-in-out;
}
.thumbnail {
  flex: 0 0 auto;
  width: 80px;
  height: 80px;
  margin: 0 5px;
  border-radius:8px;
  object-fit:cover;
  cursor:pointer;
  position: relative;
}
.thumbnail.more::after {
  content: attr(data-more);
  position: absolute;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.6);
  color:#fff;
  font-size:16px;
  display:flex;
  justify-content:center;
  align-items:center;
  border-radius:8px;
}

/* Botones */
.carousel-btn {
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background: rgba(140,28,28,0.8);
  border:none;
  color:white;
  font-size:24px;
  padding:5px 10px;
  cursor:pointer;
  border-radius:8px;
  z-index:10;
}
.carousel-btn.left { left:5px; }
.carousel-btn.right { right:5px; }

/* Modal */
.modal {
  display:none;
  position:fixed;
  top:0; left:0; width:100%; height:100%;
  background: rgba(0,0,0,0.8);
  justify-content:center; align-items:center;
  z-index:1000;
}
.modal img { max-width:90%; max-height:90%; border-radius:10px; cursor:pointer; }
.close-modal { position:absolute; top:20px; right:20px; font-size:30px; color:white; cursor:pointer; }
</style>
</head>
<body>

<header>
  <h1>Marilyn y Christian</h1>
  <h2>GALER√çA DE RECUERDOS</h2>
  <p>Queremos revivir este d√≠a tan especial a trav√©s de tus fotos üíï</p>
</header>

<a class="btn-upload" href="https://drive.google.com/drive/folders/19KKsLe-Ml0mgvpGnHcvA5Wip-GmBX8qG" target="_blank">Agregar fotos</a>

<div class="carousel-container">
  <button class="carousel-btn left">&#10094;</button>
  <div class="carousel-track" id="carousel"></div>
  <button class="carousel-btn right">&#10095;</button>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <span class="close-modal" id="close">&times;</span>
  <img id="modal-img" src="">
</div>

<script>
const API_KEY = 'AIzaSyDJGBRvLKdukuVxWXvuRImB-C9pk6ZVDZM';
const FOLDER_ID = '19KKsLe-Ml0mgvpGnHcvA5Wip-GmBX8qG';
const MAX_VISIBLE = 8;

async function fetchFiles() {
  const url = `https://www.googleapis.com/drive/v3/files?q='${FOLDER_ID}'+in+parents&key=${API_KEY}&fields=files(id,name,mimeType)`;
  try {
    const res = await fetch(url);
    const data = await res.json();
    const track = document.getElementById('carousel');
    track.innerHTML = '';

    if(data.files && data.files.length>0){
      let visibleCount = Math.min(MAX_VISIBLE, data.files.length);
      for(let i=0;i<visibleCount;i++){
        const file = data.files[i];
        if(file.mimeType.startsWith('image/')){
          const directLink = `https://drive.google.com/uc?export=view&id=${file.id}`;
          const img = document.createElement('img');
          img.src = directLink;
          img.className = 'thumbnail';
          img.alt = file.name;
          img.onclick = ()=>showModal(directLink);
          track.appendChild(img);
        }
      }
      if(data.files.length>MAX_VISIBLE){
        const more = document.createElement('div');
        more.className='thumbnail more';
        more.setAttribute('data-more', `+${data.files.length-MAX_VISIBLE}`);
        const nextLink = `https://drive.google.com/uc?export=view&id=${data.files[MAX_VISIBLE].id}`;
        more.onclick = ()=>showModal(nextLink);
        track.appendChild(more);
      }
    }
  } catch(err){
    console.error(err);
  }
}

// Carrusel simple
let scrollPos=0;
const track = document.getElementById('carousel');
document.querySelector('.carousel-btn.left').onclick = ()=>{
  scrollPos -= 100; track.style.transform = `translateX(${scrollPos}px)`;
};
document.querySelector('.carousel-btn.right').onclick = ()=>{
  scrollPos += 100; track.style.transform = `translateX(${scrollPos}px)`;
};

// Modal
function showModal(src){
  const modal = document.getElementById('modal');
  const modalImg = document.getElementById('modal-img');
  modal.style.display='flex';
  modalImg.src=src;
  // clic abre imagen en nueva pesta√±a para descargar
  modalImg.onclick = ()=>window.open(src,'_blank');
}
document.getElementById('close').onclick = ()=>{document.getElementById('modal').style.display='none';};

// Inicia
fetchFiles();
</script>
</body>
</html>
